this.LeaferIN=this.LeaferIN||{},this.LeaferIN.html=function(e,t){"use strict";function n(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}"function"==typeof SuppressedError&&SuppressedError;class i extends t.ImageData{setText(e){this._text=e,this.__htmlChanged=!0}}return e.HTMLText=class extends t.Image{get __tag(){return"HTMLText"}get editInner(){return"TextEditor"}constructor(e){super(e)}__updateBoxBounds(){const e=this.__;if(e.__htmlChanged){const t=document.createElement("div"),{style:n}=t;n.all="initial",n.position="absolute",n.visibility="hidden",t.innerHTML=this.text,document.body.appendChild(t);const{width:i,height:o}=t.getBoundingClientRect(),r=i+10,s=`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${o}">\n                        <foreignObject width="${r}" height="${o}">\n                            <style>\n                                * {\n                                    margin: 0;\n                                    padding: 0;\n                                    box-sizing: border-box;\n                                }\n                            </style>\n                            <body xmlns="http://www.w3.org/1999/xhtml">\n                                ${this.text}\n                            </body>\n                        </foreignObject>\n                    </svg>`;e.__setImageFill("data:image/svg+xml,"+encodeURIComponent(s)),e.__naturalWidth=r/e.pixelRatio,e.__naturalHeight=o/e.pixelRatio,e.__htmlChanged=!1,t.remove()}super.__updateBoxBounds()}},n([t.dataProcessor(i)],e.HTMLText.prototype,"__",void 0),n([t.boundsType("")],e.HTMLText.prototype,"text",void 0),e.HTMLText=n([t.registerUI()],e.HTMLText),e.HTMLTextData=i,e}({},LeaferUI);
